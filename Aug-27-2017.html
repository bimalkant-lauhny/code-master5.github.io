---
layout: default
title: Bimalkant Lauhny - Blog 
---
<div class="row">


  <div class="sub-title">
    <a href="index.html" title="Go to Home Page"><h2>Back Home</h2></a>
  </div>


  <div class="col-md-12 content-page">
    <div class="col-md-12 blog-post">


      <!-- Post Headline Start -->
      <div class="post-title">
        <h1>GSoC 2017 - My journey through summers</h1>
      </div>
      <!-- Post Headline End -->


      <!-- Post Detail Start -->
      <div class="post-info">
        <span>August 27, 2017 / by <a href="#" target="_blank">Bimalkant Lauhny</a></span>
      </div>
      <!-- Post Detail End -->


      <p>
        This year I got selected as a
        <a href="https://summerofcode.withgoogle.com/"
        target="_blank"
        data-toggle="tooltip" data-placement="top"
        title="All that you need to know about GSoC.">
        GSoC 2017
      </a>
      participant.
      GSoC came as an option for summer industrial
      training. My 4th year as a Computer Science
      undergraduate at
      <a href="http://nith.ac.in" target="_blank"
      data-toggle="tooltip" data-placement="top"
      title="Visit my college's official website!">
      NIT Hamirpur
    </a>
    has just begun and this year's GSoC is coming to an end.
    Contributing to an Open Source project throughout the
    summers was, undoubtedly, an amazing experience. In this
    blog post, I'm going to describe my journey through summers
    as a GSoC participant.
  </p>

  <!-- Post Image Start -->
  <div class="post-image margin-top-40 margin-bottom-40">
    <img src="images/blog/GSoC-Aug-20-2017.png" alt="">
    <p>Image source from
      <a
      href="https://itsfoss.com/wp-content/uploads/2017/03/Google-Summer-of-Code-March-3-2017.png"
      target="_blank">
      It's FOSS
    </a>
  </p>
</div>
<!-- Post Image End -->

<br />
<div class="post-title">
  <h2>Introduction</h2>
</div>

<p>
  I had an aim to get selected as a GSoC participant
  this year and contribute to some Open Source project. So, I
  started early. Just after the Google announced list of accepted
  mentor organizations, I started searching for one. The aim
  was to select a project suitable to my skills and interests.
  Luckily, I stumbled upon project <b>Jangouts</b> under the
  organization
  <a href="https://www.opensuse.org/"
  target="_blank">
  openSUSE
</a>.
</p>

<br />

<div class="post-title">
  <h2>Getting Started</h2>
</div>

<p>
  I believe that the most difficult part in GSoC is to select
  a suitable project and getting started as a contributor.
  But, when you're with <b>openSUSE</b>, things are different. I found
  it comparitively easy to get started with the projects under
  <b>openSUSE</b>. Their
  <a href="https://en.opensuse.org/Portal:GSoC"
  target="_blank">
  GSoC Portal
</a>
was full of information and guidelines for beginners. You
can find everything starting from last year GSoC ideas to
proposal template, everything is available. You can also
contact people there for more info.
</p>
<br/>
<!-- Post Image Start -->
<div class="post-image margin-top-40 margin-bottom-40">
  <img src="images/blog/opensuse-badge.png" alt="">
  <p>Image source from
    <a
    href="https://unixstickers.com"
    target="_blank">
    unixstickers.com
  </a>
</p>
</div>
<!-- Post Image End -->
<br/>
<p>
  As far as my own experience is concerned, I thoroughly went through the
  articles at <b>openSUSE</b> GSoC portal, whenever I required
  throughout the GSoC.
  I visited the
  <a href="http://101.opensuse.org/gsoc/"
  target="_blank">
  openSUSE 101 mentoring site
</a>
for information on this years projects. There, I found
<b>Jangouts</b> and decided to contribute to the project.
</p>

<br />
<div class="post-title">
  <h2>What is Jangouts?</h2>
</div>
<p>
  <b>Jangouts</b> ("Janus Hangouts") is a solution for
  videoconferencing based on
  <a href="https://webrtc.org/"
  target="_blank">
  WebRTC
</a> and the excellent
<a href="https://github.com/meetecho/janus-gateway"
target="_blank">
Janus Gateway
</a>.
It aims to
provide a completely self-hosted open source alternative to
Google Hangouts and similar solutions. Currently Jangouts
supports conferences with video, audio, screen sharing and
textual chat organized into an unlimited amount of conference
rooms with a configurable limit of participants per room.
For more info on Jangouts, visit
<a href="https://github.com/jangouts/jangouts"
target="_blank">
here
</a>.
</p>

<br/>
<!-- Post Image Start -->
<div class="post-image margin-top-40 margin-bottom-40">
  <img src="images/blog/jangouts.png" alt="">
  <p>Image source from
    <a
    href="https://github.com/jangouts/jangouts/blob/master/screenshot.png"
    target="_blank">
    Jangouts
  </a>
</p>
</div>
<!-- Post Image End -->
<br/>

<br />

<div class="post-title">
  <h2>Contributions before GSoC official coding period</h2>
</div>

<p>
  First task was to build the <b>Jangouts</b> and <b>Janus
  gateway</b> on my local machine. I joined <b>#jangouts</b>
  on IRC for getting some help from the Jangouts team of contributors.
  Building Janus gateway was easy part, but, running Jangouts
  local instance was difficult and tricky. My mentors
  <a href="https://github.com/ancorgs"
  target="_blank">
  Ancor
</a>
and
<a href="https://www.linkedin.com/in/imobachgs/"
target="_blank">
Imobach
</a>
helped me out a lot in this task. Finally,
our combined efforts paid off, and, I was successful in
building and running a local Jangouts instance.
</p>
<p>
  Now, I had to start contributing some code to the
  <a href="https://github.com/jangouts/jangouts"
  target="_blank">
  Jangouts repository on Github
</a>.
For that, I visited openSUSE mentoring repository and
started looking into related
<a href="https://github.com/openSUSE/mentoring/issues?q=is%3Aopen+is%3Aissue+label%3AJangouts"
target="_blank">
issues
</a>. There, in the conversations, I read about
<a href="https://github.com/jangouts/jangouts/issues?q=is%3Aissue+label%3A%22junior+job%22+is%3Aclosed"
target="_blank">
Junior Jobs
</a>
for getting started. So, I started working on these issues.
</p>

<br/>

<h4>TypeError issue</h4>
<p>
  My first Pull request to the project solved a simple
  bug. While trying to build the Jangouts, I could see in
  the browser console, that there was some error in reading
  the Jangouts config file. I found out, that due to TypeError,
  the local instance was not running. I opened a
  <a href="https://github.com/jangouts/jangouts/issues/179"
  target="_blank">
  TypeError issue
</a>.
Then I sent a
<a href="https://github.com/jangouts/jangouts/pull/180"
target="_blank">
Pull request
</a> adding a typecheck inside <code>replacePlaceholder()</code>
function before returning the value in <code>room.service.js</code>
file.
</p>

<br/>

<h4>Username Edit Feature</h4>
<p>
  <a href="https://github.com/jangouts/jangouts/issues/15"
  target="_blank">
  Username Change Feature
</a>
was the first Junior Job I worked out. The aim was to
allow users in a room to change their names without signing
out. The task could be divided into two main parts -
</p>
<ul>
  <li>Updating the name in Feeds object</li>
  <li>Showing the change to the user</li>
</ul>
<p>
  First, I designed a UI for name edit. Now the next problem was
  that, there was no inbuilt support for <code>auto-focus</code>
  attribute for <code>input</code> tag, hence, I designed a
  custom auto focus directive <code>autofocus.directive.js</code>.
  Rest part was to just carry out changes in
  <code>feeds.factory.js</code> to change the user name in the
  Feed object. Again, Ancor and Imobach helped me out in this
  to design a good UI for better UX.
</p>

<br />

<h4>PIN Code Rooms</h4>
<p>
  <a href="https://github.com/jangouts/jangouts/issues/130"
  target="_blank">
  PIN Code Rooms Feature
</a>
was a very exciting feature that I worked on. The aim was to
allow users to join PIN protected rooms as configured in the
Janus-gateway configs. Earlier, if admin had created a PIN
protected room
in Janus config, it was visible in the rooms list in Jangouts
sign-in page like every other room. But, no one could enter
the room, even if they know the PIN, since, there was no way
to send PIN in the room-join request. The task could be divided
into three main parts -
</p>
<ul>
  <li>Designing a UI at sign-in page to allow user to enter
  the PIN</li>
  <li>Sending the pin along with the join request to Janus
  instance</li>
  <li>Handling wrong PIN error</li>
</ul>
<p>
  Here, designing UI was simple. I added the UI in <code>
  jh-signin-form.html</code> and added the support in
  <code>jh-signin-form.directive.js</code>. The idea
  was, that the UI should appear only if the selected room
  required PIN for entering. The problem was that, there was
  no such field in rooms list object which Jangouts was receiving
  from running instance of Janus. So, I had to make a
  <a href="https://github.com/meetecho/janus-gateway/issues/826"
  target="_blank">
  feature request
</a>
at the Janus-gateway Github repository. Thanks to
Lorenzo, I didn't need to add the feature myself. He added it
in just 2 days. Next, I had to
send the entered PIN in the join request, i.e. inside
<code>FeedConnection.register</code> function (inside
<code>room.service.js</code>). To access the
PIN entered by user, I stored it inside <code>UserService.js</code>.
The final part of handling the <code>Wrong PIN</code> error
was done in <code>room.controller.js</code>. You can see the
related Pull request
<a href="https://github.com/jangouts/jangouts/pull/182"
target="_blank">
here
</a>.
</p>

<br />

<h4>Cross-Browser Fullscreen Video support</h4>
<p>
  <a href="https://github.com/jangouts/jangouts/issues/130"
  target="_blank">
  Cross-Browser Fullscreen Video Feature
</a>
was the next feature I decided to work upon. The aim was to
allow users to enjoy a fullscreen support for video stream.
Earlier, if some user entered a room, and received a video
stream of some other participant, there was no way to turn
the received video stream to fullscreen mode. The task could
be divided into three main parts -
</p>
<ul>
  <li>Accomodating the feature support in the existing UI</li>
  <li>Adding an event-listener which listened to the fullscreen
  request by the user</li>
  <li>Making feature cross-browser compatible</li>
</ul>
<p>
  First of all, I worked upon adding the event-listener
  <code>dblclick</code> for toggling fullscreen mode. Then I
  added cross-browser support by using browser specific prefixes.
  The changes can be seen in <code>jh-main-feed.directive.js</code>
  file. But there was a problem here. The <code>video</code> tag
  inside <code>jh-main-feed.html</code> was being flipped by
  180 degrees horizontally to neutralize the effect of rotation
  in the received stream. <code>transform</code> CSS property was
  being used for this. As the user clicked for fullscreen mode,
  the <code>transform</code> property no longer worked, and, the
  video stream was back to rotated mode. This change was easily
  visible and was annoying from a user's perspective. Thanks
  to <a href="https://github.com/dgdavid"
  target="_blank">
  David Diaz
</a>'s
suggestion, I wrapped the <code>video</code> tag inside a
<code>div</code>, and then applied the <code>transform</code>
property. This worked like a charm. You can see the related
PR
<a href="https://github.com/jangouts/jangouts/pull/185"
target="_blank">
here
</a>.
</p>

<br />
<br />

<p>
  So, this was all that I did before the GSoC coding period, even,
  before the GSoC announced the list of selected participants. During
  all this time, I also worked on two proposals.  Also, I took
  a break from IRC for around 15 days because
  of my exams. In between my exams, the Google announced the
  list of selected candidates. I was very happy to see my name
  in the selected students' list under openSUSE organization.
  The proposal that got selected is
  <a href="https://drive.google.com/open?id=0B6fLXtevdj4IYjF1RVRJMmhFWFE"
  target="_blank">
  this
</a>. So, now I had to work on project -
<a href="https://summerofcode.withgoogle.com/projects/#4710360429887488"
target="_blank">
Integrate callstats.io into Jangouts
</a>.
</p>

<br />

<div class="post-title">
  <h2>A Brief Intro to my GSoC Project</h2>
</div>

<p>
  As you've read above, my project for this GSoC
  was -
  <a href="https://summerofcode.withgoogle.com/projects/#4710360429887488"
  target="_blank">
  Integrate callstats.io into Jangouts
</a>.
Jangouts developers receive a lot of complains and
issues regarding connection problems. These are common in
a WebRTC based application. The idea of the project is to
provide such users with a detailed explaination and reasoning
regarding <b>what went wrong</b> in such situations. For
example, some of the related issues are:
</p>

<ul>
  <li>
    <a href="https://github.com/jangouts/jangouts/issues/189"
    target="_blank">
    can not hear or see other people in the room but icons show up
  </a>
</li>

<li>
  <a href="https://github.com/jangouts/jangouts/issues/184"
  target="_blank">
  Other people can not see or hear me (allowed audio/video)
</a>
</li>

<li>
  <a href="https://github.com/jangouts/jangouts/issues/174"
  target="_blank">
  Can't see or send messages to other people in the same room
</a>
</li>

<li>
  <a href="https://github.com/jangouts/jangouts/issues/170"
  target="_blank">
  audio channel often disconnected
</a>
</li>
</ul>
<p>
  Other than these, a lot of such issues are brought up
  on <b>IRC channel (#jangouts)</b> and
  <a href="https://groups.google.com/forum/#!forum/jangouts"
  target="_blank">
  Google Group
</a>.
<a href="https://callstats.io"
target="_blank">
callstats.io
</a>
is one such service where admin, who deployed any WebRTC based
application, after performing integration with callstats.io,
can monitor conferences and calls made using the application,
by different users. So, if some user complains of such
connection issues, the admin can look into the stats and reports
regarding the call made by the user, generated on his dashboard
at callstats.io, and, can easily explain to the user, what
happened when the user tried to join a call. In our case,
I had to perform those integration steps for <b>Jangouts</b>
under this GSoC summer project.
</p>

<p>
  The project can be broadly divided into two main parts -
</p>
<ul>
  <li>Integration of callstats.io into Jangouts</li>
  <p>This part deals with extracting endpoint stats from within
    Jangouts WebRTC components and sending them to callstats
    using callstats
    <a href="https://www.callstats.io/api/"
    target="_blank">
    Object-based API
  </a>
</p>
<li>Integration of callstats.io into Janus</li>
<p>This part deals with extracting WebRTC gateway stats from
  Janus-gateway and sending them to callstats using the
  callstats
  <a href="http://docs.callstats.io/"
  target="_blank">
  REST API
</a>
</p>
</ul>

<br />
<br />

<div class="post-title">
  <h2>Contributions during GSoC official coding period</h2>
</div>

<p>
  Directly after my exams, community bonding period
  started. Community bonding period involved an introduction to
  the callstats.io service by the
  <a href="https://callstats.io/"
  target="_blank">
  callstats.io
</a>
team. This introduction was carried out in a video conference
in which I and Ancor participated from Jangouts side, and,
<a href="https://www.linkedin.com/in/binoychemmagate/"
target="_blank">
Binoy
</a>,
<a href="https://www.linkedin.com/in/karthikbr/"
target="_blank">
Karthik
</a> and
<a href="https://www.linkedin.com/in/varunrsingh/"
target="_blank">
Varun
</a>
participated from callstats side. Other than this, mostly, I
worked upon getting a good understanding of the callstats.io
object based API during the community bonding period, and, also
tried to find out the places in the Jangouts code-base where
callstats object based API calls were to be put.
</p>

<p>
  After the Community Bondig Period ended, the GSoC Official
  Coding period started. I joined
  <a href="https://callstatsio.slack.com/"
  target="_blank">
  callstats.io slack channel
</a>
for guidance on callstats.io API. Given below are my contributions
during this period.
</p>

<br/>

<h4>Documentation explaining Components interaction in
Jangouts </h4>

<p>
  Before working on the Jangouts side callstats integration,
  Ancor, my mentor, wanted me to get an indepth understanding
  of the interaction among the components in Jangouts code base.
  Therefore, he asked me to design a detailed documentation
  describing the working details of the Jangouts. I couldn't
  agree more with Ancor on this, because, although I had some
  knowledge regarding the interaction among components in
  Jangouts, there was still a lot to discover and it was better
  to document it. Ultimately, in order to carry out the callstats
  integration, I had to extract required data to send to
  callstats API. Therefore, in-depth knowledge of the working
  details of the Jangouts code-base was necessary, so that, the
  API calls would be placed at relevant places in the code-base.
  After a lot of digging into the code-base, examining every
  request to, and, response from the Janus gateway, I was able
  to design a good documentation explaining the details on how
  Jangouts work. You can see the PR
  <a href="https://github.com/jangouts/jangouts/pull/196"
  target="_blank">
  here
</a>. I've tried to document the working details, along with
diagrams to supplement the understanding.
</p>

<br/>

<h4>Integration of callstats.io service into Jangouts</h4>

<p>
  In this part, I first implemented a simple
  <a href="https://github.com/code-master5/jangouts/tree/callstats-integration">
    prototype
  </a>
  to
  get a good understanding of the callstats Object-based API.
  I also prepared a
  <a href="https://gist.github.com/code-master5/7eb1f0210ef236603434bf4e8ea99daa">
    documentation
  </a>
  to explain the placement
  of API calls inside Jangouts components. Now comes the original
  implementation part. Ancor, Imo and I decided to seperate the
  event generation and manipulation inside Jangouts. The idea
  was to enable Jangouts to generate events and enable any
  external service to receive these events and manipulate them
  according to the use case. We decided to use RxJS for implementing
  and event emitter inside Jangouts. I worked on the idea by
  creating an event emitter Subject to which any external service
  could subscribe. Then I implemented a Callstats module which
  subscribed to the emitted events and was able to send it
  to callstats.io. You can see the code
  <a href="https://github.com/jangouts/jangouts/pull/209"
  target="_blank">
  here
</a>.
</p>

<br/>

<h4>Integration of callstats.io service into Janus</h4>

<p>
  This part was relatively more time consuming and difficult.
  As explained earlier, the idea was to extract relevant stats
  from Janus-gateway and send to callstats REST API. After a
  lot of discussions, Ancor, I and callstats team agreed upon
  designing an event handler inside Janus-gateway to send the
  received events to callstats REST API. When we started working
  on this part, we realized that there were a lot of ambiguities
  regarding the compatibility of callstats REST API with Janus.
  Also, the work was to be carried out in C language.
  So, Ancor suggested me to build a prototype first in JavaScript
  and get a good understanding of the callstats REST API. I started
  working on a JavaScript based prototype of the project. During
  this part, we realized that there was indeed incompatibility
  between the Janus and REST API. Callstats guys then did some
  changes to the API for supporting Janus-gateway. Before, the
  changes were done in the API, I completed the
  <a href="https://github.com/code-master5/janus-callstats-integration"
  target="_blank">
  JavaScript prototype
</a>. The next task was to create a new callstats event-handler
that would correlate the data from received events and will
send to callstats. I've done a lot of work on this as you can
see
<a href="https://github.com/code-master5/janus-gateway/tree/callstats-integration"
target="_blank">
here
</a>
and
<a href="https://github.com/code-master5/C-callstats-library"
target="_blank">
here
</a>.
This part is still under progress and 2 REST API calls
are to be completed. I hope to complete this soon.
</p>

<br/>
<br/>

<div class="post-title">
  <h2>Final Words...</h2>
</div>

<p>
  So, this was how things worked out during summers. It was
  an amazing experience. I would like to extend my heartiest
  thanks to Ancor, Imobach and OpenSUSE for having faith in me
  and helping me to learn and adapt. I would also like to thank
  Lorenzo for helping me out to get a better understanding of
  Janus-gateway. Last but not the least, my sincere thanks to callstats team for
  providing full support througout the project. Needless to say, but without these
  fantastic people, this would've been impossible. Throughout these summers, there
  were a lot of learning, coding and fun. There were no deadlines,
  just a mutual sense of responsibility. This experience has
  helped me come closer to Open Source community, and, it feels
  more like a family to me. Although, the project is not complete yet,
  still there is a sense of satisfaction. Everyday, millions of
  developers around the world contribute to the Open Source. I
  feel proud to be one of them. Everyday, we together, are moving
  closer to our aim of making world a better place.
</p>

<br/>
<br/>

<div class="post-title">
  <h2> Important Links </h2>
</div>
<!-- Post List Style Start -->
<div class="list">
  <ul>
    <li><a href="https://github.com/jangouts/jangouts"
      target="_blank">Jangouts</a></li>
      <ul>
        <li>IRC - #jangouts</li>
        <li>
          <a href="https://groups.google.com/forum/#!forum/jangouts">
            Google Group
          </a>
        </li>
      </ul>
      <li><a href="https://github.com/meetecho/janus-gateway"
        target="_blank">Janus-gateway</a></li>
        <ul>
          <li>
            <a href="https://groups.google.com/forum/#!forum/meetecho-janus">
              Google Group
            </a>
          </li>
        </ul>
        <li><a href="https://callstats.io"
          target="_blank">callstats.io</a></li>
          <li><a href="https://docs.callstats.io/"
            target="_blank">callstats.io REST API</a></li>
            <li><a href="https://www.callstats.io/api/"
              target="_blank">callstats object based API</a></li>
              <li><a href="https://www.callstats.io/2017/08/01/gsoc-jangouts-janus-integration/"
                target="_blank">My short interview by callstats.io</a></li>
                <li><a href="https://drive.google.com/open?id=0B6fLXtevdj4IYjF1RVRJMmhFWFE"
                 target="_blank">My GSoC proposal</a></li>
                 <li><a href="https://summerofcode.withgoogle.com/projects/#4710360429887488"
                   target="_blank">My GSoC Project</a></li>
                 </ul>
               </div>

               <!-- Post Author Bio Box Start -->
          <div class="about-author margin-top-70 margin-bottom-50">

            <div class="picture">
              <img src="images/blog/author.png" class="img-responsive" alt="">
            </div>

            <div class="c-padding">
              <h3>Article By
                <a href="http://code-master5.github.io" target="_blank"
                data-toggle="tooltip" data-placement="top"
                title="Visit Bimalkant's Website">
                Bimalkant Lauhny
              </a>
            </h3>
              <p>
              I'm a 4th year Computer Science and Engineering
              undergrad at National Institute of Technology Hamirpur,
              Himachal Pradesh, India.
              </p>
            </div>
          </div>
          <!-- Post Author Bio Box End -->

          <!-- You May Also Like Start -->
          <div class="you-may-also-like margin-top-50 margin-bottom-50">
            <h3>You may also like</h3>
            <div class="row">

              <div class="col-md-4 col-sm-6 col-xs-12">
                <a href="single.html">
                  <p>GSoC 2017 - My Project Details</p>
                </a>
              </div>

            </div>
          </div>
        <!-- You May Also Like End -->

    </div>
  </div>
</div>
